<script type="module">
  document.body.style.background = '#ccc'

  import { Net, Wire, Geometry, Shader } from '../dist/esm.js'

  const net = new Net()

  net.resize(500, 500)

  const geometry = new Geometry.Horizontal()
  const shaders = [new Shader.Wave()]

  for (let i = 0; i < 10; i++) {
    net.add(new Wire({
      from: [0, 250],
      to: [500, (i / 9) * 500],
      geometry,
      shaders
    }))
  }

  net.add(new Wire({
    from: [0, 0],
    to: [250, 250],
    geometry,
    shaders
  }))

  net.add(new Wire({
    from: [250, 250],
    to: [500, 0],
    geometry,
    shaders
  }))

  // net.add(new Wire({
  //   from: [0, 250],
  //   to: [500, 500],
  //   geometry,
  //   shaders
  // }))

  // net.add(new Wire({
  //   from: [0, 250],
  //   to: [500, 250],
  //   geometry,
  //   shaders
  // }))

  // net.add(new Wire({
  //   from: [0, 500],
  //   to: [250, 375],
  //   geometry,
  //   shaders
  // }))

  function render (time = 0) {
    shaders[0].phase = time / 20
    net.render()
    window.requestAnimationFrame(render)
  }

  render()

  document.body.appendChild(net.canvas)
</script>
