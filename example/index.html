<script type="module">
  import { Net, Wire, Geometry, Shader } from '../dist/esm.js'

  const net = new Net()

  net.resize(500, 500)

  const geometry = new Geometry.Horizontal()
  const shaders = [new Shader.Line()]

  net.add(new Wire({
    from: [0, 250],
    to: [500, 0],
    geometry,
    shaders
  }))

  net.add(new Wire({
    from: [0, 250],
    to: [500, 500],
    geometry,
    shaders
  }))

  net.add(new Wire({
    from: [0, 50],
    to: [500, 300],
    geometry,
    shaders
  }))

  function render (time = 0) {
    shaders[0].uniforms.phase = time / 1000
    net.render()
    window.requestAnimationFrame(render)
  }

  render()

  document.body.appendChild(net.canvas)
</script>
